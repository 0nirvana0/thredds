apply from: "$rootDir/gradle/dependencies.gradle"
apply from: "$rootDir/gradle/java.gradle"
apply from: "$rootDir/gradle/testing.gradle"
apply from: "$rootDir/gradle/coverage.gradle"

dependencies {
    compile project(':cdm')
    compile libraries["protobuf-java"]
    compile libraries["jdom2"]
    compile libraries["jsoup"]
    compile libraries["jcip-annotations"]
    compile libraries["jj2000"]
    compile libraries["bzip2"]
    compile libraries["guava"]
    compile libraries["slf4j-api"]
    testCompile project(path: ':cdm', configuration: 'testArtifacts')
}

// Re-enable test task for this subproject.
// It (and all other subproject test tasks) were originally disabled in "$rootDir/gradle/testing.gradle".
test.setEnabled true

test.outputs.upToDateWhen { false }  // Tests weren't being run when I changed included/excluded categories.

test.useJUnit {
    excludeCategories 'ucar.unidata.test.util.NeedsCdmUnitTest'
}
