<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  
  <title>TDS and ncISO: Metadata Services</title>
  <link href="../../tds.css" rel="stylesheet" type="text/css"/>
</head>
<body>

<h1><img src="../../images/unidataLogo.png" alt="Unidata" align="middle" height="75" width="75">TDS and ncISO: Metadata Services</h1>
<hr>

<p>The TDS distribution (as of TDS 4.2.4) includes the
  <a href="http://www.ngdc.noaa.gov/eds/tds/">ncISO package</a>
  from NOAA/NGDC (many thanks to Dave Neufeld and Ted Habermann).</p>
<p>ncISO supports three new services for datasets: an NcML representation of the dataset; an ISO 19115
  metadata representation of the dataset; and an evaluation of how well the metadata contained in the
  dataset conforms to the
  <a href="http://www.unidata.ucar.edu/software/netcdf-java/formats/DataDiscoveryAttConvention.html">
    NetCDF Attribute Convention for Data Discovery (NACDD)</a> (also see the
  <a href="https://geo-ide.noaa.gov/wiki/index.php?title=NetCDF_Attribute_Convention_for_Dataset_Discovery">
    NOAA/NGDC page on NACDD</a>).
</p>

<h2>Enabling ncISO Services</h2>
<p>
  By default the ncISO services are disabled in the TDS. They can be enabled for locally served
  datasets by including the following in the threddsConfig.xml file:
</p>
<pre>
&lt;NCISO&gt;
  &lt;ncmlAllow&gt;true&lt;/ncmlAllow&gt;
  &lt;uddcAllow&gt;true&lt;/uddcAllow&gt;
  &lt;isoAllow&gt;true&lt;/isoAllow&gt;
&lt;/NCISO&gt;
</pre>

<p>NOTE: <strong>Before TDS 4.2.8</strong>, enabling the ncISO services required editing the TDS
  web.xml file (<code>$TOMCAT_HOME/webapps/thredds/WEB-INF/web.xml</code>). There were three
  sections that needed to be uncommented: a filter-mapping element, a servlet element, and a
  servlet-mapping element. Each of these elements contained a servlet-name element with a value
  of "metadata" (i.e., "&lt;servlet-name&gt;metadata&lt;/servlet-name&gt;"). Since web.xml files
  are overwritten when a webapp is deployed, <strong>these edits were required each time a new
  version of the TDS was deployed</strong>.
</p>

<h2>Providing ncISO Services for Datasets</h2>

<p>Once ncISO is enabled, datasets can be configured to have the three ncISO services
  in the TDS catalog configuration files similar to the way other services are
  configured. The service element's serviceType and base attribute values must
  be as follows:
</p>

<pre>
&lt;service name="ncml" serviceType="<strong>NCML</strong>" base="<strong>/thredds/ncml/</strong>"/&gt;
&lt;service name="uddc" serviceType="<strong>UDDC</strong>" base="<strong>/thredds/uddc/</strong>"/&gt;
&lt;service name="iso" serviceType="<strong>ISO</strong>" base="<strong>/thredds/iso/</strong>"/&gt;
</pre>
<p>The dataset to be served must reference a containing compound service by the service name. For
  instance, if a compound service named "all" contained all three services listed above:
</p>
<pre>
&lt;dataset ID="sample" name="Sample Data" urlPath="sample.nc"&gt;
  &lt;serviceName&gt;all&lt;/serviceName&gt;
&lt;/dataset&gt;
</pre>

<p>The dataset can be configured by datasetRoot or datasetScan as appropriate
  (see "<a href="../tutorial/BasicTomcatAndTDSSecurity.html">Basic Configuration</a>").
  They are listed in the resulting THREDDS catalogs as are other datasets.</p>


<hr width="100%">
<address>
  <img src="../../images/thread.png" alt="THREDDS" height="108" width="110">
  This document is maintained by Unidata and was last updated June 2011. Send comments to
  <a href="mailto:support-thredds@unidata.ucar.edu">THREDDS support</a>.
</address>

</body>
</html>