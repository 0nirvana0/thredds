<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.2">
<title>GRIB</title>
<link rel="stylesheet" href="./../tds.css">
<link rel="stylesheet" href="./coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>GRIB</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="_1_standards">1 Standards</h2>
<div class="sectionbody">
<div class="sect3">
<h4 id="_grib1_and_grib2">GRIB1 and GRIB2</h4>
<div class="paragraph">
<p>The World Meteorological Organization (WMO) Commission for Basic Systems (CBS) met in 1985 to create the GRIB (GRIdded Binary) format.
GRIB Edition 1 was approved in February 1994. GRIB Edition 2 format was approved in 2003. Transition to GRIB-2 has been slow, despite the severe limitations of GRIB-1.
By international treaty, national weather services are required to publish their data in GRIB (and BUFR) for international exchange.</p>
</div>
<div class="paragraph">
<p>Data is stored in compressed binary format, replacing earlier text encoding formats.</p>
</div>
</div>
<div class="sect3">
<h4 id="_standard_tables_local_tables">Standard Tables / Local Tables</h4>
<div class="paragraph">
<p>Information in the files references external tables, either WMO standard tables or local tables defined by each National Center.
For criticism of GRIB table handling practices, see: <a href="http://www.unidata.ucar.edu/staff/caron/papers/GRIBarchivals.pdf">Archiving in GRIB considered Harmful</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_wmo">WMO</h4>
<div class="ulist">
<ul>
<li>
<p>The GRIB Bible: <a href="http://www.wmo.int/pages/prog/www/WMOCodes/WMO306_vI2/VolumeI.2.html">Manual on Codes (WMO-No. 306)</a></p>
</li>
<li>
<p>WMO Standard Tables: <a href="http://www.wmo.int/pages/prog/www/WMOCodes/WMO306_vI2/LatestVERSION/LatestVERSION.html" class="bare">http://www.wmo.int/pages/prog/www/WMOCodes/WMO306_vI2/LatestVERSION/LatestVERSION.html</a></p>
</li>
<li>
<p>WMO now publishes their standard tables in XML for GRIB2 (though not GRIB1): <a href="http://www.wmo.int/pages/prog/www/WMOCodes/WMO306_vI2/LatestVERSION/GRIB2_15_1_0.zip" class="bare">http://www.wmo.int/pages/prog/www/WMOCodes/WMO306_vI2/LatestVERSION/GRIB2_15_1_0.zip</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_ncep">NCEP</h4>
<div class="paragraph">
<p>NCEP does not publish their tables in a machine-readable format, so we periodically screenscrape their HTML pages. The results are stored in the THREDDS GIT site.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>NCEP GRIB-1 Tables: <a href="http://www.nco.ncep.noaa.gov/pmb/docs/on388/">Original</a>  <a href="https://github.com/Unidata/thredds/tree/master/grib/src/main/resources/resources/grib1/ncep">CDM XML</a></p>
</li>
<li>
<p>NCEP GRIB-2 Tables: <a href="http://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc.shtml">Original</a> <a href="https://github.com/Unidata/thredds/tree/master/grib/src/main/resources/resources/grib2/ncep">CDM XML</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_ncar">NCAR</h4>
<div class="ulist">
<ul>
<li>
<p>NCAR / RDS has extensive documentation on the datasets they support: <a href="http://rda.ucar.edu/" class="bare">http://rda.ucar.edu/</a></p>
</li>
<li>
<p>Example : <a href="http://rda.ucar.edu/datasets/ds628.0/docs/" class="bare">http://rda.ucar.edu/datasets/ds628.0/docs/</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2_raw_grib">2 Raw GRIB</h2>
<div class="sectionbody">
<div class="sect3">
<h4 id="_streaming">Streaming</h4>
<div class="paragraph">
<p>GRIB is a record-oriented format, each record is nominally independent of any other. GRIB files typically consist of concateneated GRIB records.
To read the individual records in a GRIB-1 file, one can use the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">      <span class="predefined-type">RandomAccessFile</span> dataRaf = <span class="keyword">new</span> <span class="predefined-type">RandomAccessFile</span>(location, <span class="string"><span class="delimiter">&quot;</span><span class="content">r</span><span class="delimiter">&quot;</span></span>);
      Grib1RecordScanner scan = <span class="keyword">new</span> Grib1RecordScanner(dataRaf);
      <span class="keyword">while</span> (scan.hasNext()) {
        Grib1Record r = scan.next();
        <span class="keyword">if</span> (r == <span class="predefined-constant">null</span>) <span class="keyword">break</span>; <span class="comment">// done</span>
        <span class="comment">// do stuff</span>
        Grib1SectionGridDefinition gdss = r.getGDSsection();
        ...
      }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Grib2RecordScanner and GRIB2record are similarly used for GRIB-2 records. See those classes for more details. Note that these are not considered public APIs.</p>
</div>
</div>
<div class="sect3">
<h4 id="_reference_time_valid_time">Reference Time / Valid Time</h4>

</div>
<div class="sect3">
<h4 id="_toolsui">ToolsUI</h4>

</div>
<div class="sect3">
<h4 id="_vertical_coordinates">Vertical Coordinates</h4>

</div>
<div class="sect3">
<h4 id="_time_intervals">Time Intervals</h4>

</div>
<div class="sect3">
<h4 id="_ensembles">Ensembles</h4>

</div>
<div class="sect3">
<h4 id="_data_encoding_compression">Data Encoding / Compression</h4>

</div>
</div>
</div>
<div class="sect1">
<h2 id="_3_turning_grib_into_netcdf_with_the_cdm">3 Turning GRIB into netCDF with the CDM</h2>
<div class="sectionbody">
<div class="sect3">
<h4 id="_variables_grouped_by_pds">Variables grouped by PDS</h4>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.unidata.ucar.edu/software/thredds/v5.0/tds/reference/collections/GribConfig.html#pdsHash">Control how PDS are made into variables</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_horizontal_reference_system_grouped_by_gds">Horizontal Reference System grouped by GDS</h4>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.unidata.ucar.edu/software/thredds/v5.0/tds/reference/collections/GribConfig.html#gdsHash">Fix errors in GDS encoding</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_time_intervals_2">Time Intervals</h4>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.unidata.ucar.edu/software/thredds/v5.0/tds/reference/collections/GribConfig.html#intvFilter">Time Interval filters</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_table_handling">Table Handling</h4>

</div>
</div>
</div>
<div class="sect1">
<h2 id="_4_grib_collections">4 Grib Collections</h2>
<div class="sectionbody">
<div class="sect3">
<h4 id="_grib_indexes">Grib Indexes</h4>

</div>
<div class="sect3">
<h4 id="_collection_indexes">Collection Indexes</h4>

</div>
<div class="sect3">
<h4 id="_partitions">Partitions</h4>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.unidata.ucar.edu/software/thredds/v5.0/tds/reference/collections/Partitions.html" class="bare">http://www.unidata.ucar.edu/software/thredds/v5.0/tds/reference/collections/Partitions.html</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_checking_large_collections">Checking large collections</h4>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.unidata.ucar.edu/software/thredds/v5.0/tds/reference/collections/TDM.html#GCPass1">GCPass1</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_5_tds_and_grib_feature_collections">5 TDS and GRIB Feature Collections</h2>
<div class="sectionbody">
<div class="sect3">
<h4 id="_configuration">Configuration</h4>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.unidata.ucar.edu/software/thredds/v5.0/tds/reference/collections/GribConfig.html" class="bare">http://www.unidata.ucar.edu/software/thredds/v5.0/tds/reference/collections/GribConfig.html</a></p>
</li>
<li>
<p><a href="http://www.unidata.ucar.edu/software/thredds/v5.0/tds/reference/collections/GribCollectionFaq.html">How do I control where the index files are written?</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2015-09-04 09:42:33 MDT
</div>
</div>
</body>
</html>