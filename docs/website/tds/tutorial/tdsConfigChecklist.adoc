:source-highlighter: coderay
[[threddsDocs]]


TDS Configuration Checklist for Production
==========================================

= TDS Configuration Checklist for Production

== TDS Configuration

* Edit the server information in
*$\{tomcat_home}/content/thredds/threddsConfig.xml*
(link:BasicThreddsConfig_xml.adoc[more info])
* If modifying CSS, place css files in
*$\{tomcat_home}/content/thredds/public/* and make changes to the
*htmlSetup* tag in *$\{tomcat_home}/content/thredds/threddsConfig.xml*
(link:BasicThreddsConfig_xml.adoc[more info])
* Enable netCDF-4 output, if desired and the C netCDF library is
installed on your system (new as of TDS 4.3.13)
(link:../reference/ThreddsConfigXMLFile.adoc#netcdfCLibrary[more info])
* Configure caches, if required
(link:../reference/ThreddsConfigXMLFile.adoc#Cache_Locations[more info])
* Configure and add new Viewer links
(link:../reference/Viewers.adoc[more info])
* Specify other root catalogs, if needed
(link:../reference/ThreddsConfigXMLFile.adoc#catalogRoots[more info])
* If needed, Restrict Dataset Access using Tomcat
(link:../reference/RestrictedAccess.adoc[more info])

== Configuration Catalogs

* Logically separate catalogs and link them to the main catalog using
the *catalogRef* tag: +
     &ltcatalogRef xlink:title=``Title of linked catalog''
xlink:href=``otherCatalog.xml'' name=``''/>
* Enable the services you wish to expose for your dataset
(link:ConfigCatalogs.adoc[more info])
** Note: Make sure these services are enabled in the
*$\{tomcat_home}/content/thredds/threddsConfig.xml* file
(link:../reference/ThreddsConfigXMLFile.adoc#Remote[more info])
** Make sure the service base URLs (the ``base'' attribute) exactly
match the values given on link:ConfigCatalogs.adoc[this] page
* Add or link to metadata related to your dataset
(link:ConfigCatalogs.adoc[more info])
* If your catalog will serve GRIB data, use the GribFeatureCollection!
(link:../reference/collections/GribCollections.adoc[more info])
* Configure datasetRoot, dataset (single file), and datasetScan
(directory) tags to expose the datafiles on your system through the
catalog (link:BasicConfigCatalogs.adoc[more info])
* If needed, Restrict Dataset Access at the catalog level
(link:../reference/RestrictedAccess.adoc[more info])

== Adding New TDS Configuration options or New Configuration Catalogs

==== Pre-Tomcat Startup

* If you have enabled link:TDSMonitoringAndDebugging.adoc[access
logging] (and you should), zip up the unused access logs in
*$\{tomcat_home}/logs/* and archive them off to another directory.
* Likewise, zip up the unused TDS servlet logs in
*$\{tomcat_home}/content/thredds/logs* and archive them as well.

==== Post-Tomcat Startup

* Check the various new logs for errors (link:TroubleShooting.adoc[more
info])
