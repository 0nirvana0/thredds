<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ /*
  ~  * Copyright 1998-2013 University Corporation for Atmospheric Research/Unidata
  ~  *
  ~  *  Portions of this software were developed by the Unidata Program at the
  ~  *  University Corporation for Atmospheric Research.
  ~  *
  ~  *  Access and use of this software shall impose the following obligations
  ~  *  and understandings on the user. The user is granted the right, without
  ~  *  any fee or cost, to use, copy, modify, alter, enhance and distribute
  ~  *  this software, and any derivative works thereof, and its supporting
  ~  *  documentation for any purpose whatsoever, provided that this entire
  ~  *  notice appears in all copies of the software, derivative works and
  ~  *  supporting documentation.  Further, UCAR requests that the user credit
  ~  *  UCAR/Unidata in any publications that result from the use of this
  ~  *  software or in any product that includes this software. The names UCAR
  ~  *  and/or Unidata, however, may not be used in any advertising or publicity
  ~  *  to endorse or promote any products or commercial entity unless specific
  ~  *  written permission is obtained from UCAR/Unidata. The user also
  ~  *  understands that UCAR/Unidata is not obligated to provide the user with
  ~  *  any support, consulting, training or assistance of any kind with regard
  ~  *  to the use, operation and performance of this software nor to provide
  ~  *  the user with any updates, revisions, new versions or "bug fixes."
  ~  *
  ~  *  THIS SOFTWARE IS PROVIDED BY UCAR/UNIDATA "AS IS" AND ANY EXPRESS OR
  ~  *  IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
  ~  *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  ~  *  DISCLAIMED. IN NO EVENT SHALL UCAR/UNIDATA BE LIABLE FOR ANY SPECIAL,
  ~  *  INDIRECT OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING
  ~  *  FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT,
  ~  *  NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION
  ~  *  WITH THE ACCESS, USE OR PERFORMANCE OF THIS SOFTWARE.
  ~  */
  -->

<catalog name="TDS Unit Test Server"
         xmlns="http://www.unidata.ucar.edu/namespaces/thredds/InvCatalog/v1.0"
         xmlns:xlink="http://www.w3.org/1999/xlink">

  <service name="latest" serviceType="Resolver" base=""/>

  <service name="all" base="" serviceType="compound">
    <service name="odap" serviceType="OpenDAP" base="/thredds/dodsC/"/>
    <service name="http" serviceType="HTTPServer" base="/thredds/fileServer/"/>
    <service name="wcs" serviceType="WCS" base="/thredds/wcs/"/>
    <service name="wms" serviceType="WMS" base="/thredds/wms/"/>
    <service name="ncss" serviceType="NetcdfSubset" base="/thredds/ncss/"/>
    <service name="cdmremote" serviceType="CdmRemote" base="/thredds/cdmremote/"/>
    <service name="iso" serviceType="ISO" base="/thredds/iso/"/>
    <service name="ncml" serviceType="NCML" base="/thredds/ncml/"/>
    <service name="uddc" serviceType="UDDC" base="/thredds/uddc/"/>
  </service>

  <!-- Test Dataset Scan on Station data-->
  <!-- pathInfo:   /testTdsScan/GFS_CONUS_80km_yyyyMMdd_HHmm.grib1.nc -->
  <datasetScan name="Test Scan Stations" ID="testStationScan" path="testStationScan" location="${cdmUnitTest}/ncss/point_features/metar">
    <metadata inherited="true">
      <serviceName>all</serviceName>
      <dataType>Station</dataType>
    </metadata>
  </datasetScan>

  <dataset name="Point Feature Collections">
    <metadata inherited="true">
      <serviceName>all</serviceName>
      <authority>edu.ucar.unidata</authority>
      <dataType>Point</dataType>
      <documentation type="rights">Freely available</documentation>
      <creator>
        <name vocabulary="DIF">DOC/NOAA/NWS</name>
        <contact url="http://www.noaa.gov/" email="answers@noaa.gov"/>
      </creator>
      <publisher>
        <name vocabulary="DIF">UCAR/UNIDATA</name>
        <contact url="http://www.unidata.ucar.edu/" email="support@unidata.ucar.edu"/>
      </publisher>
    </metadata>

    <featureCollection name="Metar Station Data" harvest="true" featureType="Station" path="testStationFeatureCollection">
      <metadata inherited="true">
        <dataType>Station</dataType>
        <documentation type="summary">Metars: hourly surface weather observations</documentation>
        <documentation xlink:href="http://metar.noaa.gov/" xlink:title="NWS/NOAA information"/>
        <documentation>In the U.S., METAR reports are taken once an hour between 50 minutes past the hour and the top of
          the (next) hour. All the observations taken within this time are considered to be for the same cycle. For
          example, observations taken between 1150Z and 1200Z are all considered to be 12Z observations. In reality,
          observations may be taken a little earlier or a little later. In addition, observations taken due to changing
          conditions, known as SPECI reports, are also considered to occur for a given cycle. Our rule of thumb is that
          all reports taken between (hh-1)45Z to hh44Z are considered to be for the hh cycle.
        </documentation>
        <keyword>metar</keyword>
        <keyword>surface observations</keyword>
      </metadata>

      <property name="raw" value="report"/>
      <property name="resolution" value="20 min"/>

      <collection spec="${cdmUnitTest}/ft/station/ldm-metar/Surface_METAR_#yyyyMMdd_HHmm#.nc$"/>
      <update startup="true"/>
      <protoDataset choice="Penultimate"/>
      <pointConfig datasetTypes="cdmrFeature Files"/>
    </featureCollection>

    <featureCollection name="Surface Buoy Point Data" harvest="true" featureType="Point" path="testBuoyFeatureCollection">
      <collection spec="${cdmUnitTest}/ft/point/ldm/buoy/Surface_Buoy_#yyyyMMdd_HHmm#.nc$"/>
      <update startup="true"/>
      <protoDataset choice="Penultimate"/>
      <pointConfig datasetTypes="cdmrFeature Files"/>
    </featureCollection>

    <featureCollection name="Surface Synoptic Point Data" harvest="true" featureType="Point" path="testSurfaceSynopticFeatureCollection">
      <collection spec="${cdmUnitTest}/ft/point/ldm/synop/Surface_Synoptic_#yyyyMMdd_HHmm#.nc$"/>
      <update startup="true"/>
      <protoDataset choice="Penultimate"/>
      <pointConfig datasetTypes="cdmrFeature Files"/>
    </featureCollection>

    <featureCollection name="Upper Air Point Data" harvest="true" featureType="Point" path="testUpperAirFeatureCollection">
       <collection spec="${cdmUnitTest}/ft/point/ldm/upper/Upperair_#yyyyMMdd_HHmm#.nc$"/>
       <update startup="true"/>
       <protoDataset choice="Penultimate"/>
       <pointConfig datasetTypes="cdmrFeature Files"/>
     </featureCollection>


  </dataset>


</catalog>
